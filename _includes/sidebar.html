<div class="widgets-container">

  <!-- Search Widget -->
  <div class="search-widget widget-item">
    <h3 class="widget-title">Search</h3>
    <form action="{{ '/' | relative_url }}">
      <input type="text" name="q">
      <button type="submit" title="Search"><i class="bi bi-search"></i></button>
    </form>
  </div>

  <!-- Categories Widget -->
  <div class="categories-widget widget-item">
    <h3 class="widget-title">Categories</h3>
    <ul class="mt-3">
      {% for category in site.categories %}
      <li>
        <a href="{{ '/categories/' | append: category[0] | relative_url }}">
          {{ category[0] }} <span>({{ category[1].size }})</span>
        </a>
      </li>
      {% endfor %}
    </ul>
  </div>

  <!-- Recent Posts Widget -->
  <div class="recent-posts-widget widget-item">
    <h3 class="widget-title">Recent Posts</h3>
    {% for post in site.posts limit:5 %}
    <div class="post-item">
      {% if post.image %}
      <img src="{{ post.image | relative_url }}" alt="{{ post.title }}" class="flex-shrink-0">
      {% endif %}
      <div>
        <h4><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h4>
        <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%b %d, %Y" }}</time>
      </div>
    </div>
    {% endfor %}
  </div>

  <!-- Tags Widget -->
  <div class="tags-widget widget-item">
    <h3 class="widget-title">Tags</h3>
    <ul>
      {% for tag in site.tags %}
      <li><a href="{{ '/tags/' | append: tag[0] | relative_url }}">{{ tag[0] }}</a></li>
      {% endfor %}
    </ul>
  </div>

</div>
